$(function(){$("#header-title").text("注册"),$(".tab-list .tab").on("click",function(){var t=$(this);t.addClass("active").siblings().removeClass("active"),$(".tab-content").removeClass("disn").eq(t.index()).addClass("disn")});var t={ajaxFun:function(t,e,a,n,r,i){$.ajax({url:t,type:e,data:a||{},beforeSend:r||"",complete:i||"",success:function(t){n(t)}})}},e={isMobile:function(t){var e=/^1[3|4|5|7|8][0-9]\d{8}$/gi;return e.test(t)},msg:function(t){function e(t){var e=document.getElementById("toast");if(e)e.style.opacity=.9;else{var n='<div id="toast">'+t+"</div>";document.body.insertAdjacentHTML("beforeEnd",n)}a=setInterval(function(){var t=$("#toast");t.css("opacity",0).remove(),clearInterval(a)},1e3)}var a=null;e(t)}};$("#reg-btn-code").click(function(){var a=$(this),n=$.trim($("#reg-tel").val());if(""==n||!e.isMobile(n))return e.msg("手机号码输入有误"),!1;var r={account:n,type:0};t.ajaxFun("/captcha/captcha","post",r,function(t){if("0000000"!==t.rtnCode){a.attr("disabled","disabled");var n=60,r=setTimeout(function(){n--,0>=n&&(clearInterval(r),a.removeAttr("disabled")),a.val(n+"s后重新获取")},1e3)}else e.msg(t.msg)},"","")}),$("#reg-submit-btn").click(function(){if(regCode=$.trim($("#reg-code").val()),""==regCode||6!=regCode.length)return e.msg("验证码输入有误"),!1;var a=($.trim($("#reg-btn").val()),$.trim($("#reg-pwd").val())),n=$("#reg-confirm-pwd").val();if(""==a||a.length<6)return e.msg("密码输入有误"),!1;if(n!=a)return e.msg("确认密码和您输入的密码不一致"),!1;var r={account:18710921677,captcha:1234,password:123,provinceId:123,cityId:123,countyId:123,sharerId:123};t.ajaxFun("/register/account","post",r,function(t){console.info(t)},"","")})});